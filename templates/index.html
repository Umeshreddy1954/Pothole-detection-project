<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pothole Detector</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<header>
  <nav class="navbar" id="main-nav" style="display: none;">
    <div class="nav-left">
      <span class="brand">Pothole Detector</span>
    </div>
    <div class="nav-right">
      <a href="#" class="nav-link" id="nav-home">Home</a>
      <a href="#" class="nav-link" id="nav-about">About</a>
      <a href="#" class="nav-link" id="nav-deeplearning">Deep Learning</a>
      <a href="#" class="nav-link" id="nav-opencv">OpenCV</a>
      <button id="logout-btn" class="logout-btn">Logout</button>
    </div>
  </nav>
</header>

<main>
  <!-- Auth Section -->
  <section id="auth-section">
    <div class="auth-card">
      <h2 id="form-title">Login</h2>
      <form id="auth-form">
        <input type="email" id="email" placeholder="Email" required>
        <input type="password" id="password" placeholder="Password" required>
        <input type="password" id="confirm-password" placeholder="Confirm Password" style="display:none;">
        
        <div style="display: flex; align-items: center;margin-top: 10px; width:30px; height:20px;white-space: nowrap;">
          <input type="checkbox" id="show-password" style="margin-right: 8px"/>
          <label for="show-password" style="color: white; margin-left: 5px;margin-bottom:15px ; ">Show Password</label>
        </div>

        <button type="submit" id="submit-btn">Login</button>
        <p class="toggle-auth">Don't have an account? <span id="toggle-form">Register</span></p>
        <p id="auth-msg" class="auth-msg"></p>
      </form>
    </div>
  </section>

  <!-- Content Section -->
  <section id="content-section" style="display: none;">
    <!-- Home Section -->
    <div id="home-section" class="slide-section">
      <div class="slide-card">
        <h1>Welcome to Pothole Detector</h1>
        <p>This system uses <strong>ResNet50</strong>, <strong>VGG19</strong>, and <strong>YOLOv8</strong> for pothole detection in road surface images. Upload an image or use webcam-based real-time detection.</p>
      </div>
    </div>

    <!-- About Section -->
    <div id="about-section" class="slide-section" style="display: none;">
      <div class="slide-card">
        <h1>About This Project</h1>
        <p style="text-align: justify;">This pothole detection system introduces a deep learning-based solution to automate the detection and classification of potholes in road images. By utilizing advanced models such as VGG19, ResNet50, and YOLO, the system achieves high accuracy and efficiency in identifying potholes, addressing the shortcomings of traditional manual and sensor-based methods. In addition to processing static images, the system supports real-time detection through webcam-based image analysis, enabling continuous monitoring and early intervention to prevent potential hazards.</p>
      </div>
    </div>

      <!-- Deep Learning -->
      <div id="deeplearning-section" style="display: none;" class="upload-predict-container">
        <h2>Upload an Image</h2>
        <form id="upload-form" enctype="multipart/form-data">
          <input type="file" name="file" accept="image/*" required>
          <button type="submit">Upload & Predict</button>
        </form>

      <div id="results" class="results-grid" style="display: none;">
        <div class="result-card">
          <h3>ResNet50</h3>
          <p id="resnet-result"></p>
        </div>
        <div class="result-card">
          <h3>VGG19</h3>
          <p id="vgg-result"></p>
        </div>
        <div class="result-card">
          <h3>YOLOv8</h3>
          <ul id="yolo-results"></ul>
          <img id="result-image" src="" alt="Prediction" />
        </div>
      </div>
    </div>

    <!-- OpenCV Section -->
    <!-- OpenCV -->
<div id="opencv-section" class="slide-section" style="display: none;">
  <div class="slide-card">
    <h1>OpenCV Detection</h1>
    <p>
      Live detection using webcam allows authorities to promptly identify newly formed potholes and prioritize maintenance activities accordingly. Real-time monitoring enhances road safety by reducing the likelihood of accidents caused by deteriorating road conditions.</p>
    </p>
    <p>Press ESC to stop.</p>
    
    <!-- Add this trigger button -->
    <button id="start-opencv-btn" class="opencv-btn">Start Detection</button>

    <!-- Optional message placeholder -->
    <p id="opencv-msg" class="opencv-msg"></p>
  </div>
</div>

  </section>

  <!-- Loader -->
  <div id="loader" class="loader" style="display: none;">
    <div class="spinner"></div>
    <p>Processing... Please wait.</p>
  </div>
</main>

<script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
